## 네트워크의 이해

[TOC]







### OSI모델

#### 통신하기 위해 필요한 것들
1)물리적인 연결 2)주소 3)프로토콜

#### 네트워크란?

#### OSI 모델
1계층 물리계층 : 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송
2계층 데이터링크 계층 : 물리계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 안전한 정보 전달. 네트워크 카드가 만들어질 때부터 맥 주소(MAC address)가 정해져 있다는 뜻
3계층 네트워크 계층 :  경로를 선택하고 경로에 따라 패킷을 전달
4계층 전송 계층 : TCP프로토콜을 이용하며, 포트를 열어서 응용프로그램들이 전송을 할 수 있게 한다. 전송 계층(Transport layer)은 양 끝단(End to end)의 사용자들이 신뢰성있는 데이터를 주고 받을 수 있도록 해 주어, 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 해준다. 시퀀스 넘버 기반의 오류 제어 방식을 사용한다.
5계층 세션 계층 : 데이터가 통신하기 위한 논리적인 연결을 하기 위한 계층. 통신하는 사용자들을 동기화하고 오류복구 명령들을 일괄적으로 다룬다.
6계층 표현 계층 :  표현 계층(Presentation layer)은 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로부터 덜어 준다.
7계층 응용 계층 : 응용 계층(Application layer)은 응용 프로세스와 직접 관계하여 일반적인 **응용 서비스를 수행**한다. 해당 통신 패킷들은 방금 나열한 프로토콜에 의해 모두 처리되며 우리가 사용하는 브라우저나, 메일 프로그램은 프로토콜을 보다 쉽게 사용하게 해주는 응용프로그램이다. 한마디로 모든 통신의 양 끝단은 HTTP와 같은 프로토콜이지 응용프로그램이 아니다.

#### IP 구조

IP 주소는 전 세계에서 유일하게 할당되어야 하므로 전 세계 인터넷 주소를 관리하는 인터넷할당번호관리기관(IANA, Internet Assigned Numbers Autority)에서 통합 관리
IPv4의 IP 주소는 32비트\*(bit), 즉 0 또는 1로 만으로 표기하는 이진(Binary)수 32자리로 구성
IP 주소는 어느 네트워크의 어느 호스트라는 것을 식별하는 주소입니다. 따라서 **IP 주소는 호스트가 속한 네트워크 주소인 네트워크 부**(Network Part 또는 Netwrok ID)와 **호스트의 주소인 호스트 부** (Host Part 또는 Host ID)로 구성
따라서 같은 네트워크 안에 있는 컴퓨터, 즉 라우터 없이도 데이터 전송이 가능한 컴퓨터는 네트워크 부가 동일하고 호스트 부만 다릅니다. 달리 말하면 네트워크 부가 다르다는 것은 서로 다른 네트워크라는 의미이고, 라우터를 통하지 않고는 통신이 불가능하다는 뜻
https://better-together.tistory.com/118

#### L2스위칭&L3라우팅

#### 통신 흐름 

#### 3way hand shake

#### 4way hand shake

https://bangu4.tistory.com/74

https://mindnet.tistory.com/entry/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%89%BD%EA%B2%8C-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-22%ED%8E%B8-TCP-3-WayHandshake-4-WayHandshake

#### 트러블슈팅



### 다양한 네트워크 서비스들

#### 로드밸런서

#### 방화벽

IP 주소, HTTP 헤더, HTTP 본문, URI 문자열, 교차 사이트 스크립팅 (XSS), SQL 삽입 및 기타 OWASP 정의 취약성을 비롯한 인터넷 위협을 방지하기 위한 규칙을 수립하고 관리할 수 있습니다. 웹 애플리케이션 방화벽은 웹 연결 애플리케이션을 보호하고 규정 준수와 분석을 위한 액세스 로그를 수집하기 위해 배포
 일반적인 네트워크 방화벽 (Firewall)과는 달리 웹 애플리케이션 보안에 특화되어 개발된 솔루션.  SQL Injection, Cross-Site Scripting(XSS)등과 같은 웹 공격을 탐지하고 차단

#### CDN

지리적으로 분산된 여러 개의 서버. 사용자는 가까운 서버를 통해 웹 활성화 디바이스 또는 브라우저에서 인터넷 콘텐츠에 빠르게 접속. CDN은 웹 페이지, 이미지, 비디오 등의 콘텐츠를 사용자의 물리적 위치와 가까운 프록시 서버에 캐싱. 콘텐츠가 로딩될 때까지 기다릴 필요 없이 영화 감상, 소프트웨어 다운로드, 은행 잔고 확인, 소셜 미디어 포스팅, 구매 등의 작업.

#### DNS



### 온프레미스와 클라우드 네트워크의  차이점

#### 온프레미스 네트워크란?

#### 클라우드 네트워크란?

#### 작업 절차 비교



### 하이브리드 클라우드 네트워킹

#### 하이브리드 네트워크란?

#### 전용회선

#### VPN

https://blog.naver.com/PostView.nhn?blogId=wjw1225&logNo=222179525134

#### Site to Site VPN

#### Peer to Site VPN

#### Private DNS 통합







## 스토리지 기술의 이해

### 스토리지 종류 

정확히는 램같은 내부장치가 아닌 외부 장치에 대한 소개입니다.
서버 디스크 (IDE>>SATA>>SCSI>>SAS>>SSD)
HDD 스핀들(IDE, SATA, SAS)
반도체 디바이스(SSD, NVMe)
IDE : 옛날 HDD. 현재는 거의 사용하지 않고 구형 서버에나 있다.
SATA : 직렬 방식
SCSI : 병렬 방식
SAS : SCSI의 병렬 구조를 직렬로 변경하여 속도를 4배 향상. SATA와 SCSI 장점만 모아두었다. 
SSD : 연결 방식은 SATA를 따른다. 반도체 소자를 사용한 기록 방식.

DAS(Direct Attached Storage) 직접 연결 스토리지

NAS(Network Attached Storage)네트워크 연결 스토지

SAN(Storage Area Network) 스토리지 영역 네트워크

### 클라우드 스토리지 종류

#### 클라우드 스토리지

 클라우드 컴퓨팅 제공업체를 통해 데이터와 파일을 인터넷에 저장할 수 있는 클라우드 컴퓨팅 모델이며 사용자가 퍼블릭 인터넷 또는 전용 프라이빗 네트워크 연결을 통해 액세스할 수 있습니다. 해당 제공업체는 사용자가 필요로 할 때 거의 제한 없는 규모와 탄력적인 용량으로 데이터에 액세스할 수 있도록 스토리지 서버, 인프라 및 네트워크를 안전하게 저장, 관리 및 유지 보수합니다. 클라우드 스토리지 사용자는 데이터 스토리지 인프라를 개인적으로 구매하고 관리할 필요가 없어지고 언제 어디서나 데이터에 액세스할 수 있는 민첩성, 확장성, 내구성을 얻게 됩니다. 사용자는 인터넷 연결, 웹 포털, 인트라넷, 클라우드 스토리지 애플리케이션 또는 기타 API(애플리케이션 프로그래밍 인터페이스)를 통해 클라우드 스토리지를 이용

#### Block

블록스토리지에는 고유 주소가 있어 파일 스토리지와 달리 계층 구조가 필요 없고 경로도 다양하게 가지고 있어서 데이터를 신속하게 검색할 수 있다. 

메타데이터는 스토리지 시스템에 포함된 기본 데이터를 설명하는 추가 데이터입니다. 블록 스토리지는 제한된 메타데이터를 사용하지만 읽기/쓰기 작업을 위해 각 블록에 할당된 고유 식별자에 의존합니다. 이를 통해 데이터 전송 오버헤드가 줄어들고 서버가 블록 스토리지의 데이터를 효율적으로 액세스하고 검색할 수 있습니다. 데이터베이스와 같이 지연 시간에 민감한 애플리케이션에 필요합니다.

각 데이터 블록에는 고유한 식별자가 부여되어 스토리지 시스템이 가장 편리한 위치에 더 작은 데이터 조각을 배치할 수 있습니다. 블록 스토리지는 파일 스토리지처럼 데이터에 대한 단일 경로에 의존하지 않기 때문에 신속하게 검색할 수 있습니다. 각 블록은 자체적으로 존재하며 분할될 수 있으므로 다른 운영 체제에서 액세스할 수 있으므로 사용자는 데이터를 자유롭게 구성할 수 있습니다. 데이터를 저장하는 효율적이고 안정적인 방법이며 사용 및 관리가 쉽습니다. 대규모 트랜잭션을 수행하는 기업과 대규모 데이터베이스를 배포하는 기업과 잘 작동합니다. 즉, 저장해야 하는 데이터가 많을수록 블록 스토리지를 사용하는 것이 더 좋습니다.

그러나 몇 가지 단점이 있습니다. 블록 스토리지는 비쌀 수 있습니다. 메타데이터를 처리하는 기능이 제한되어 있으므로 애플리케이션 또는 데이터베이스 수준에서 처리해야 하므로 개발자나 시스템 관리자가 걱정해야 할 또 다른 문제가 추가됩니다.
https://www.redhat.com/en/topics/data-storage/file-block-object-storage
https://aws.amazon.com/ko/what-is/block-storage/#:~:text=%EB%B8%94%EB%A1%9D%20%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%EB%8A%94%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80,%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EB%B8%94%EB%A1%9D%EC%9D%84%20%EC%A0%80%EC%9E%A5%ED%95%A9%EB%8B%88%EB%8B%A4.
https://www.scaleway.com/en/blog/understanding-the-different-types-of-storage/

#### Object

오브젝트라고 불리는 개별 단위에 데이터를 저장하는 스토리지 유형. 각 단에는 고유의 식별자 혹은 키가 있어서 분산된 시스템 내 어디에 저장되어 있든지 상관없이 데이터를 찾을 수 있다. 데이터와 메타데이터 그리고 고유한 식별자를 포함합니다. 이러한 데이터는 API 또는 http/https를 통해 즉시 액세스. 주로 주차 대행 서비스에 비유됩니다. 데이터 오브젝트가 자동차라면 주소는 영수증에 해당합니다.
object를 덮어쓰는 방법을 이용함. 자주 변경되는 데이터에는 맞지 않음.

- 사진, 음원, 비디오 등의 비정형 데이터
- 백업 파일, [데이터베이스](https://www.nutanix.com/kr/info/database-management) 파일, 로그 파일
- 대규모 데이터 세트 
- 아카이브 파일
- Dropbox와 같은 온라인 협업 파일
- 기타 사용 사례

#### File

NAS.데이터는 계층적 파일 디렉터리 내의 폴더에서 사용자가 상호 작용할 수 있는 파일로 저장.
like 주차타워
데이터가 많아지면 찾기 어려워짐. 성능 낮아짐.

### 스토리지 종류 선택

#### 스토리지 기능 분석

API 지원 여부

호환성

IOPS : 초당 읽기 및 쓰기 작업 수

처리 Bandwidth(사용 가능한 대역폭) : 스토리지에서 읽거나 쓰는 초당 비트수를 측정

I/O크기 : 블록 크기. 어플리케이션이 스토리지에 단일I/O작업을 수행하는데 사용하는 요청의 크기

큐 깊이 : 스토리지 리소스가 한꺼번에 처리할 수 있는 보류 중인 I/O요청. (클라이언트 수 * 파일 수 * 스레드 수 = 큐깊이)

#### 어플리케이션 분석

데이터 종류

#### 시나리오

WEB, WAS, DB로 구성된 3 tier 어플리케이션을 퍼블릭 클라우드에서 운영하고 있습니다. 아래의 새로운 기능을 고려하여 스토리지를 선택해봅시다.
신규 기능1 : 사용자가 업로드한 사진을 저장하여 게시물로 보여주기
신규 기능2 : 어플리케이션 로그들은 자주 조회가 필요하며 1년 정도 보관하다가 그 이후에는 6개월에 한번씩 조회가 필요
신규 기능3 : 녹화한 영상을 사용자들에게 라이브로 송출


### (실습)스토리지 구성해보기

https://soft.plusblog.co.kr/48

[참고]
스토리지 역사 https://www.datanet.co.kr/news/articleView.html?idxno=27570
큐 깊이 https://www.techtarget.com/searchstorage/definition/queue-depth
https://learn.microsoft.com/ko-kr/azure/virtual-machines/premium-storage-performance#optimize-performance-on-linux-vms

---



## 보안 기초

### 인프라 보안이란?

### 클라우드의 보안

### 암호화

### 방화벽

### 위협 인텔리전스

### (실습)클라우드 보안 서비스 이용해보기



## CI/CD

### CI/CD란?

### Devops와 Agile

### Cloud CI/CD

### Git이란?

### (실습)CI/CD 파이프라인 구축하기

